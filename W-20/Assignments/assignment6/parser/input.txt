i don't like this pseudo-code
